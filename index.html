<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>carX â€” Venda de VeÃ­culos</title>
<style>
    body { font-family: Arial, sans-serif; background: #0d0d0d; color: #fff; margin: 0; }
    header { padding: 20px; text-align: center; background: #111; font-size: 32px; font-weight: bold; color: #00c3ff; border-bottom: 2px solid #00c3ff; }
    .slider { width: 90%; max-width: 900px; height: 220px; margin: 20px auto; overflow: hidden; border-radius: 12px; border: 2px solid #00c3ff; position: relative; }
    .slides { display: flex; width: 300%; animation: slide 12s infinite; }
    .slides img { width: 100%; height: 220px; object-fit: cover; }
    @keyframes slide { 0% { margin-left: 0; } 33% { margin-left: -100%; } 66% { margin-left: -200%; } 100% { margin-left: 0; } }
    .container { max-width: 900px; margin: auto; padding: 20px; }
    .card { background: #1a1a1a; padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #333; }
    h2 { color: #00c3ff; margin-bottom: 10px; }
    input, select { width: 100%; padding: 10px; margin-top: 10px; border-radius: 8px; border: none; background: #222; color: #fff; }
    button { padding: 12px; width: 100%; background: #00c3ff; border: none; border-radius: 8px; margin-top: 15px; font-size: 16px; cursor: pointer; font-weight: bold; }
    button:hover { background: #0099cc; }
    .result { background: #101010; padding: 15px; border-radius: 10px; margin-top: 20px; border: 1px solid #00c3ff; white-space: pre-line; font-size: 16px; }
    #chat-bubble { position: fixed; bottom: 20px; right: 20px; background: #4CAF50; color: #fff; padding: 14px 16px; border-radius: 50%; cursor: pointer; font-size: 22px; z-index: 99999; box-shadow: 0 0 10px #0005; }
    #chat-box { position: fixed; bottom: 90px; right: 20px; width: 90%; max-width: 320px; height: 420px; background: #1a1a1a; color: #fff; border-radius: 14px; box-shadow: 0 0 12px #0007; display: none; flex-direction: column; z-index: 99999; }
    @media (max-width: 480px) { #chat-box { bottom: 80px; right: 10px; width: calc(100% - 20px); height: 75vh; } }
    #chat-header { background: #4CAF50; padding: 12px; text-align: center; font-weight: bold; border-radius: 14px 14px 0 0; }
    #chat-messages { flex: 1; padding: 10px; overflow-y: auto; font-size: 14px; }
    #chat-input { display: flex; border-top: 1px solid #333; }
    #chat-input input { flex: 1; padding: 10px; border: none; outline: none; background: #0d0d0d; color: #fff; font-size: 15px; }
    #chat-input button { padding: 10px; background: #4CAF50; border: none; cursor: pointer; color: #fff; font-weight: bold; width: 60px; }
</style>
</head>
<body>

<header>carX â€” Venda de VeÃ­culos</header>

<div class="slider">
    <div class="slides">
        <img src="https://i.imgur.com/WTksDXy.jpeg">
        <img src="https://i.imgur.com/MFETVLh.jpeg">
        <img src="https://i.imgur.com/pVoEWX2.jpeg">
        <img src="https://i.imgur.com/lFB7TSp.jpeg">
        <img src="https://i.imgur.com/AzpkVXL.jpeg">
        <img src="https://i.imgur.com/xjfas8A.jpeg">
        <img src="https://i.imgur.com/hKxIvEI.jpeg">
        <img src="https://i.imgur.com/zBqhdwx.jpeg">
    </div>
</div>

<div class="container">

<div class="card">
    <h2>InformaÃ§Ãµes do Cliente</h2>
    <input type="text" id="nome" placeholder="Seu nome">
    <input type="text" id="telefone" placeholder="Seu telefone">
    <input type="text" id="playerID" placeholder="ID do jogo">
    <input type="text" id="serverName" placeholder="Servidor (Ex: BR-05)">
</div>
 
<div class="card">
    <h2>Aluguel de VeÃ­culos</h2>
    <select id="vehicle">
        <option value="">Selecione o veÃ­culo...</option>
        <option value="jeepdeguerra">jeep de guerra pesado â€” R$ 4500</option>
        <option value="pequenalambretafesta">Pequena Lambreta Festa â€” R$ 7800</option>
        <option value="pequenalambretacanto">Pequena Lambreta Canto â€” R$ 15000</option>
        <option value="helicopterodeataque">HelicÃ³ptero de ataque â€” R$ 12000</option>
        <option value="motoolanadorazul">Motoolanador azul â€” R$ 12000</option>
        <option value="motoolanador">Motoolanador â€” R$ 12000</option>
        <option value="tanquetigrebranco">tanque tigre branco â€” R$ 12000</option>
    </select>

    <label>Materiais que vocÃª possui:</label>
    <input type="number" id="lingoteFerro" placeholder="Lingote de ferro tratado">
    <input type="number" id="corpoChassi" placeholder="Corpo de helicÃ³ptero / Chassi">
    <input type="number" id="engrenagem" placeholder="Engrenagem mecÃ¢nica">
    <input type="number" id="chapaFerro" placeholder="Chapa de ferro">

    <button onclick="verificarMateriais()">Verificar materiais</button>
    <button onclick="enviarZapVenda()">Enviar pedido</button>

    <div id="resultadoVenda" class="result" style="display:none;"></div>
</div>

<button onclick="enviarZapGeral()">ðŸ“© Enviar pedido completo</button>

<a href="https://wa.me/+556296094975" target="_blank">ðŸ’¬ Suporte</a>
<p>Siga nossas redes:</p>
<a href="https://www.instagram.com/trabalhando.no.digital?igsh=M3pkb3lrY3VnYTky" target="_blank">ðŸ“¸ Instagram</a>
<a href="https://tiktok.com/@SEUTIKTOK" target="_blank">ðŸŽµ TikTok</a>

</div>

<!-- POPUP -->
<script>
function mostrarPopup(msg) {
    const popup = document.createElement("div");
    popup.style.position = "fixed";
    popup.style.top = "50%";
    popup.style.left = "50%";
    popup.style.transform = "translate(-50%, -50%)";
    popup.style.background = "#111";
    popup.style.padding = "25px";
    popup.style.borderRadius = "12px";
    popup.style.boxShadow = "0 0 25px rgba(0,0,0,0.5)";
    popup.style.zIndex = "999999";
    popup.style.color = "white";
    popup.style.fontSize = "18px";
    popup.style.textAlign = "center";
    popup.innerHTML = `<strong>${msg}</strong>`;
    document.body.appendChild(popup);
    setTimeout(() => popup.remove(), 3000);
}
</script>

<script>
// ===== OBJETOS MATERIAIS E PREÃ‡OS =====
const materiais = {
    jeepdeguerra: { lingoteFerro: 100, corpoChassi: 50, engrenagem: 20, chapaFerro: 0 },
    pequenalambretafesta: { lingoteFerro: 150, corpoChassi: 70, engrenagem: 30, chapaFerro: 0 },
    pequenalambretacanto: { lingoteFerro: 300, corpoChassi: 200, engrenagem: 80, chapaFerro: 0 },
    helicopterodeataque: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    motoolanadorazul: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    motoolanador: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    tanquetigrebranco: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 } // <== corrigido
};

const precoVenda = {
    jeepdeguerra: 4500,
    pequenalambretafesta: 7800,
    pequenalambretacanto: 15000,
    helicopterodeataque: 12000,
    motoolanadorazul: 12000,
    motoolanador: 12000,
    tanquetigrebranco: 12000,
};

const BOT_PHONE = "556296094975";
const BOT_KEY = "2198964";

// ===== FUNÃ‡Ã•ES =====
function gerarIDProduto() { 
    return "PROD-" + Math.floor(100000 + Math.random() * 900000); 
}

function verificarMateriais() {
    const v = document.getElementById("vehicle").value;
    if (!v) { mostrarPopup("âŒ Selecione um veÃ­culo!"); return; }

    const req = materiais[v];
    const user = {
        lingoteFerro: Number(document.getElementById("lingoteFerro").value || 0),
        corpoChassi: Number(document.getElementById("corpoChassi").value || 0),
        engrenagem: Number(document.getElementById("engrenagem").value || 0),
        chapaFerro: Number(document.getElementById("chapaFerro").value || 0)
    };

    let faltas = [];
    for (let m in req) { if (user[m] < req[m]) faltas.push(`${m}: ${req[m]-user[m]} faltando`); }

    const box = document.getElementById("resultadoVenda");
    box.style.display = "block";
    box.innerText = `
ðŸ“¦ Materiais para ${v.toUpperCase()}

NecessÃ¡rio:
Lingote: ${req.lingoteFerro}
Chassi: ${req.corpoChassi}
Engrenagem: ${req.engrenagem}
Chapa: ${req.chapaFerro}

VocÃª possui:
Lingote: ${user.lingoteFerro}
Chassi: ${user.corpoChassi}
Engrenagem: ${user.engrenagem}
Chapa: ${user.chapaFerro}

` + (faltas.length === 0 ? "âœ… VocÃª tem todos os materiais!" : "âŒ Faltando:\n" + faltas.join("\n"));

    if (faltas.length === 0) mostrarPopup("âœ… Todos os materiais conferidos!");
    else mostrarPopup("âŒ Faltam materiais!");
}

function enviarZapVenda() {
    const nome = document.getElementById("nome").value.trim();
    const tel = document.getElementById("telefone").value.trim();
    const pid = document.getElementById("playerID").value.trim();
    const serv = document.getElementById("serverName").value.trim();
    const v = document.getElementById("vehicle").value;

    if (!nome || !tel || !pid || !serv || !v) { mostrarPopup("âŒ Preencha todos os campos!"); return; }

    const m = materiais[v];
    const idProduto = gerarIDProduto();
    const msg = `
NOVA VENDA â€” carX

ðŸ†” ID do Produto: ${idProduto}

ðŸ‘¤ Nome: ${nome}
ðŸ“ž Telefone: ${tel}
ðŸŽ® ID do Player: ${pid}
ðŸŒ Servidor: ${serv}

ðŸš— VeÃ­culo: ${v.toUpperCase()}
ðŸ’° PreÃ§o: R$ ${precoVenda[v].toLocaleString()}

ðŸ“¦ Materiais necessÃ¡rios:
â€¢ Lingotes: ${m.lingoteFerro}
â€¢ Chassi: ${m.corpoChassi}
â€¢ Engrenagem: ${m.engrenagem}
â€¢ Chapas: ${m.chapaFerro}

ðŸ•’ ${new Date().toLocaleString()}
`;
    enviarBot(msg);
}

function enviarZapGeral() {
    const nome = document.getElementById("nome").value.trim();
    const tel = document.getElementById("telefone").value.trim();
    const pid = document.getElementById("playerID").value.trim();
    const serv = document.getElementById("serverName").value.trim();

    if (!nome || !tel || !pid || !serv) { mostrarPopup("âŒ Preencha todos os campos!"); return; }

    let msg = `
PEDIDO COMPLETO â€” carX

ðŸ†” ID do Pedido: ${gerarIDProduto()}

ðŸ‘¤ Nome: ${nome}
ðŸ“ž Telefone: ${tel}
ðŸŽ® Player ID: ${pid}
ðŸŒ Servidor: ${serv}
`;

    const v = document.getElementById("vehicle").value;
    if (v) {
        const m = materiais[v];
        msg += `
--- VENDA ---
VeÃ­culo: ${v.toUpperCase()}
PreÃ§o: R$ ${precoVenda[v].toLocaleString()}
Materiais: ${m.lingoteFerro} lingotes, ${m.corpoChassi} chassi, ${m.engrenagem} engrenagem, ${m.chapaFerro} chapas
`;
    }

    msg += `\nðŸ•’ ${new Date().toLocaleString()}`;
    enviarBot(msg);
}

function enviarBot(texto) {
    const url = "https://api.callmebot.com/whatsapp.php?phone=" + BOT_PHONE +
        "&text=" + encodeURIComponent(texto) + "&apikey=" + BOT_KEY;

    fetch(url)
        .then(() => mostrarPopup("âœ… Pedido enviado com sucesso!"))
        .catch(() => mostrarPopup("âœ… Pedido enviado, logo entraremos em contato!"));
}

// CHAT BOT
function toggleChat() {
    const box = document.getElementById("chat-box");
    box.style.display = box.style.display === "flex" ? "none" : "flex";
}

function sendMsg() {
    const input = document.getElementById("chatText");
    const text = input.value.trim();
    if (!text) return;

    addMessage("VocÃª", text);

    let clean = text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[.,!?;:()]/g, "");

    let resposta = "NÃ£o entendi, pode explicar melhor?";

    if (clean.includes("preco")) resposta = "Nossos preÃ§os dependem do veÃ­culo escolhido.";
    else if (clean.includes("alugar")) resposta = "Para alugar, selecione o veÃ­culo e finalize no carrinho.";
    else if (clean.includes("comprar")) resposta = "Para comprar, basta ir no carrinho.";
    else if (clean.includes("material")) resposta = "Cada player deve ter os materiais necessÃ¡rios para construir o veÃ­culo.";
    else if (clean.includes("oi") || clean.includes("ola")) resposta = "OlÃ¡! Como posso ajudar? ðŸ˜Š";
    else if (clean.includes("suport") || clean.includes("suporte")) resposta = 'Entre em contato com o suporte: <a href="https://wa.me/+556296094975" target="_blank">ðŸ’¬ Suporte</a>';

    setTimeout(() => addMessage("Bot", resposta), 500);
    input.value = "";
}

function addMessage(user, msg) {
    const box = document.getElementById("chat-messages");
    const div = document.createElement("div");
    div.innerHTML = `<b>${user}:</b> ${msg}`;
    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
}
</script>

<div id="chat-bubble" onclick="toggleChat()">ðŸ’¬</div>
<div id="chat-box">
    <div id="chat-header">Atendimento</div>
    <div id="chat-messages"></div>
    <div id="chat-input">
        <input type="text" id="chatText" placeholder="Digite sua mensagem...">
        <button onclick="sendMsg()">âž¤</button>
    </div>
</div>

</body>
</html>

